<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Show drawn polygon area</title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
<script src="https://api.mapbox.com/mapbox-gl-js/v2.0.0/mapbox-gl.js"></script>
<link href="https://api.mapbox.com/mapbox-gl-js/v2.0.0/mapbox-gl.css" rel="stylesheet" />
<style>
	body { margin: 0; padding: 0; }
	#map { position: absolute; top: 0; bottom: 0; width: 100%; }
</style>
</head>
<body>
<style>
    .calculation-box {
        height: 400px;
        width: 350px;
        position: absolute;
        bottom: 40px;
        left: 10px;
        background-color: rgba(255, 255, 255, 0.9);
        padding: 15px;
        text-align: left;
    }

    p {
        font-family: 'Open Sans';
        margin: 0;
        font-size: 13px;
    }
</style>
<script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.2.0/mapbox-gl-draw.js"></script>
<link
    rel="stylesheet"
    href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.2.0/mapbox-gl-draw.css"
    type="text/css"
/>
<div id="map"></div>
<div class="calculation-box">
<input class='btn' type='button' value = 'Update'>
        <form id='calculated-area'>
<textarea id = '55' class='coord' rows='1' cols='40'>[[[44.99634968749915,11.503277192948977],[43.41468,12.56768],[34.54706,27.71995],[34.82719,27.87425],[34.80559,27.97019],[34.6505,27.98343],[34.51289,28.07387],[34.89877,29.59205],[34.11384,31.48881],[30.84799,36.34134],[30.59058,35.98145],[30.42558,35.99561],[30.2355,36.02316],[29.71542,35.91154],[29.3399,35.96903],[28.86873,36.33582],[28.4511,36.56372],[28.27212,36.54297],[27.97071,36.48004],[27.92758,36.6978],[27.82385,36.71216],[27.63386,36.55844],[27.35884,36.58805],[27.26357,36.73107],[27.40534,36.91865],[27.16415,36.98547],[27.17153,37.32814],[26.9589,37.66321],[27.18081,37.75017],[27.16987,37.81382],[27.06053,37.9129],[26.20812,38.16627],[26.20092,38.37162],[26.30953,38.50284],[26.25611,38.69697],[26.60817,38.81452],[26.7131,39.03402],[26.42438,39.42411],[25.95765,39.40396],[25.89073,39.89175],[25.70079,39.97666],[25.62844,40.14616],[26.05256,40.3712],[25.92898,40.72611],[26.13138,40.73988],[26.3679,40.95144],[26.3324,41.24226],[26.64028,41.35404],[26.59143,41.61292],[26.35839,41.70647],[26.36244,41.81205],[26.5387,41.82586],[26.63299,41.97695],[26.9487,41.99068],[27.05528,42.08204],[27.29925,42.09574],[27.55552,41.8901],[27.67028,41.96566],[27.85884,41.94056],[27.87519,42.00693],[28.33439,41.97727],[36.62883,44.91032],[36.54432,45.20104],[36.67696,45.35119],[36.68659,45.65602],[37.45623,46.69292],[37.61797,46.81374],[38.13277,46.85145],[38.323,46.97676],[38.24621,47.08663],[38.34743,47.27183],[38.24839,47.32077],[38.27282,47.55384],[38.36401,47.62111],[38.78439,47.70221],[38.82408,47.87178],[39.73958,47.83354],[39.80236,47.95624],[39.78554,48.03265],[39.87999,48.04949],[40.01325,48.26864],[39.83474,48.30604],[39.95663,48.3545],[39.85068,48.57052],[39.66685,48.63875],[39.81049,48.84118],[39.9827,48.79923],[40.05768,48.87163],[39.8545,48.90737],[39.66486,48.99173],[39.92711,49.04985],[40.21162,49.26782],[40.04074,49.43393],[40.14403,49.61699],[39.80683,49.56611],[39.61427,49.73863],[39.2882,49.767],[39.19577,49.88865],[38.92748,49.80538],[38.71482,49.99457],[38.49862,49.96737],[38.3182,50.08958],[38.17116,50.09028],[38.2216,49.98559],[38.0384,49.90218],[37.62749,50.18581],[37.49701,50.44719],[36.90973,50.34828],[36.65991,50.25296],[36.46894,50.34572],[36.29269,50.31628],[36.11644,50.47453],[35.61875,50.33298],[35.41635,50.56586],[35.50644,50.65412],[35.39631,50.91402],[35.38349,51.0158],[35.13524,51.08042],[35.12242,51.20028],[34.75645,51.1909],[34.62447,51.24489],[34.24279,51.29741],[34.33469,51.35116],[34.21877,51.41515],[34.30796,51.46533],[34.10241,51.65503],[34.33807,51.7222],[34.42085,51.82996],[34.09163,51.99185],[34.05669,52.14412],[33.81851,52.35505],[33.55089,52.29587],[33.20516,52.37998],[32.86683,52.24199],[32.35154,52.34477],[32.3804,52.0992],[31.9084,51.98797],[31.78842,52.12806],[31.58983,52.29351],[31.614,52.40831],[31.57665,52.52281],[31.65947,52.55565],[31.50855,52.69297],[31.58807,52.79183],[31.24802,53.03951],[31.40004,53.11258],[31.42112,53.2142],[31.63552,53.23302],[31.84113,53.10944],[32.16361,53.08157],[32.41096,53.18947],[32.47928,53.29849],[32.71163,53.33303],[32.77177,53.4189],[32.44918,53.60471],[32.45797,53.73827],[32.11879,53.80838],[31.78488,53.81066],[31.89997,54.05189],[31.35079,54.23426],[31.15657,54.51463],[31.20663,54.59515],[31.10907,54.67551],[30.96315,54.70799],[30.76973,54.81544],[31.02256,55.02946],[31.02937,55.15108],[30.81474,55.30035],[30.97281,55.6235],[30.72788,55.59296],[30.40243,55.82722],[30.22182,55.8702],[30.04541,55.81575],[29.86899,55.84414],[29.7292,55.77815],[29.44961,55.72901],[29.35339,55.76509],[29.38238,55.89237],[29.51415,55.92579],[29.363,55.9867],[28.75845,55.99648],[28.64597,56.08872],[28.39286,56.04549],[28.18896,56.16688],[28.14836,56.59472],[27.90663,56.73252],[27.9779,56.8356],[27.82774,56.85778],[27.65045,56.86182],[27.86172,57.31112],[27.58617,57.43139],[27.50989,57.52443],[27.31061,57.55127],[27.57139,57.82919],[27.79772,57.84547],[27.71899,57.89937],[27.5074,58.23216],[27.56644,58.3816],[27.35977,58.79511],[27.73372,58.99256],[27.88624,59.23277],[28.22083,59.39608],[27.89114,59.59602],[26.94625,59.63742],[26.48343,59.93613],[27.57525,60.28809],[27.79064,60.52471],[28.47351,60.92573],[28.70686,60.97474],[28.89101,61.16637],[29.4293596093748,61.39533162350517],[29.830921171878487,61.842485309187595],[31.589452656250398,62.91784853771],[29.975537226562274,63.75741976092715],[30.29444,63.8351],[30.55447,64.12161],[30.50541,64.2547],[30.14316531249537,64.51669185225668],[29.786261718741798,64.81562153782389],[29.651755234364742,64.98244925689528],[29.956701874996384,65.22202373620829],[29.671665625000117,65.54218753521502],[30.06839,65.88969],[29.09313,66.90381],[30.01322,67.67938],[29.35997,68.04516],[28.63924,68.20577],[28.45524,68.54124],[28.74355,68.86036],[28.35713,68.90946],[28.90929,69.054],[29.06901,69.02834],[29.32096,69.0875],[29.21762,69.22497],[29.34831,69.3142],[29.71088,69.37859],[30.06494,69.41311],[30.09832,69.60511],[30.63738,69.52465],[30.950152792968552,69.60561927232166],[30.82261519531182,69.78718729207118],[34.6219949218756,71.26478465192776],[34.71783994140742,75.48863424517532],[34.81368496093907,78.77639076329064],[34.909529980469415,81.32679052954882],[35.005375000000484,83.30113852237116],[54.69480843750074,83.29886353794305],[74.38424187500135,83.29658778444028],[94.07367531250202,83.29431126160614],[113.76310875000217,83.29203396918444],[133.45254218750182,83.28975590691809],[153.14197562500107,83.28747707455108],[172.831409062501,83.28519747182625],[192.52084250000044,83.28291709848718],[192.47736967492847,80.77798075860761],[192.43389684985635,77.35023668207754],[192.3904240247819,72.67743679502797],[192.3469511997081,66.35184539361175],[184.86262387303663,61.94643378535815],[177.3782965463655,56.79873151308365],[169.8939692196946,50.83257432365659],[162.40964189302366,43.99307591557567],[154.92531456635203,36.264012302660205],[147.44098723968096,27.687643365127656],[139.95665991300802,18.381822143805906],[132.4723325863356,8.546397620397093],[139.37757750000102,0.08523731086098596],[140.89245875000142,-2.173636001951145],[141.07508625000057,-10.07022],[134.4294906249999,-10.356188696564613],[122.80985375,-11.320550304007412],[111.7371718749992,-10.332854313526589],[100.55332187499897,-6.2435753930563855],[93.58625281250114,5.58025351126417],[82.26614218750079,5.480673961429716],[74.47478062500008,5.46912036899697],[70.44001843749867,18.75422550781029],[53.899874531249594,14.45816492777027],[44.99634968749915,11.503277192948977]]]</textarea>
<textarea id = '3' class='coord' rows='1' cols='40'>[[[33.67656,31.3288],[33.13793,31.4362],[32.66857,31.2849],[32.49788,31.45491],[32.23384,31.51099],[31.98582,31.72518],[31.60723,31.66771],[31.00192,31.79177],[30.48634,31.65474],[30.2775,31.69923],[29.66856,31.31168],[29.07069,31.0774],[28.48615,31.29943],[28.09514,31.29192],[27.91751,31.45522],[27.60894,31.40624],[27.42798,31.56921],[26.27725,31.80973],[25.87954,31.8386],[25.37514,31.71446],[25.25416,32.03216],[25.03316,32.17961],[24.21946,32.19969],[23.77927,32.36192],[23.48579,32.36631],[23.20538,32.8108],[22.65791,33.01362],[22.19597,33.12071],[21.57398,33.12721],[20.50339,32.7373],[19.97735,32.29499],[19.71804,31.86185],[19.79214,31.47213],[19.96255,31.09985],[19.45095,30.57501],[19.21182,30.44958],[18.97269,30.45053],[18.31624,30.9117],[18.00654,31.05127],[16.76033,31.34115],[16.10167,31.41322],[15.84894,31.52416],[15.59621,31.83913],[15.41083,32.38707],[15.25013,32.52213],[14.82269,32.56713],[14.35458,32.85893],[13.25832,33.11633],[12.85347,33.00979],[12.42195,33.01504],[11.35886,33.48288],[11.27318,33.87003],[11.16848,34.00004],[11.27951,34.43983],[11.72395,34.58138],[11.87498,34.91976],[11.67927,35.12596],[11.28999,35.38392],[11.22079,35.91159],[11.11228,36.00351],[10.83039,35.97665],[10.72005,36.16019],[11.00615,36.34354],[11.36498,36.77306],[11.29578,37.13745],[11.13737,37.27943],[10.37134,37.37697],[10.1817,37.55804],[9.65345,37.53746],[9.19594,37.44769],[9.17187,37.69054],[8.99493,37.7594],[8.64639,37.59856],[8.65261,37.38894],[8.86244,37.29982],[8.60727,37.14366],[7.7195,37.17715],[7.23183,37.30615],[6.75127,37.17544],[6.44408,37.27834],[6.2298,37.24524],[6.0093,37.05323],[5.56208,36.97803],[3.86656,37.13512],[2.85454,36.99148],[2.38186,36.83955],[1.26904,36.75147],[0.84575,36.62188],[0.00729,36.21343],[-0.7987,35.97064],[-1.2446,35.91093],[-1.6455,35.47594],[-1.97931,35.32289],[-2.20643,35.35468],[-2.57398,35.42915],[-2.91486,35.62291],[-3.13178,35.58656],[-3.29535,35.44163],[-3.67584,35.49918],[-4.27678,35.38614],[-4.58511,35.40998],[-4.84549,35.57506],[-5.01124,35.85185],[-5.16839,35.87094],[-5.41756,35.99936],[-5.6958,35.95529],[-6.00041,35.97619],[-6.64405,34.70806],[-7.02728,34.1436],[-8.64282,33.45682],[-9.48344,32.65041],[-9.53733,32.1789],[-9.85593,31.87578],[-10.07766,31.40643],[-10.11535,30.57718],[-9.83391,30.30209],[-10.18007,29.70462],[-10.66185,29.22195],[-11.21143,28.88131],[-11.58308,28.51498],[-12.4615,28.23323],[-13.01057,28.15592],[-13.34552,27.81303],[-13.7967,26.8657],[-14.33506,26.62267],[-14.62157,26.36175],[-15.06867,25.34027],[-15.07019,24.80339],[-16.20019,23.83975],[-16.25383,23.46748],[-16.62663,22.65855],[-16.95214,22.37594],[-17.17127,21.92294],[-17.34292,20.68876],[-16.85743,20.51212],[-16.51379,20.20223],[-16.66113,19.85815],[-16.66662,19.58016],[-16.79033,19.39093],[-16.32298,18.5976],[-16.24872,18.12768],[-16.28933,17.65753],[-16.65425,16.73735],[-16.74575,15.86394],[-17.34556,15.08916],[-17.70895,14.97487],[-17.78272,14.68326],[-17.59644,14.45995],[-17.36572,14.55191],[-17.02063,14.06566],[-16.97811,13.63267],[-16.86466,13.58986],[-17.01605,13.43525],[-17.00194,12.43927],[-16.87553,12.24341],[-16.63091,11.09793],[-16.33901,10.9013],[-15.83843,10.68674],[-15.31626,10.68399],[-15.20884,10.77553],[-15.09603,10.58909],[-14.88595,10.54213],[-14.86366,10.35604],[-14.66338,10.22799],[-14.54551,10.08834],[-13.96645,9.73902],[-13.9429,9.67489],[-14.03159,9.53207],[-13.99911,9.37905],[-13.87057,9.25],[-13.62307,9.2788],[-13.42877,8.65378],[-13.4878,8.41907],[-13.40498,8.24271],[-13.44628,8.05458],[-13.38273,7.91095],[-13.20096,7.89608],[-13.28517,7.68797],[-13.23934,7.51492],[-12.75319,7.30077],[-12.63348,7.19208],[-11.97593,6.97777],[-11.60207,6.73989],[-11.48678,6.54572],[-11.0154,6.31938],[-10.9223,6.13995],[-10.41691,5.92205],[-9.36777,4.92721],[-8.35409,4.36712],[-8.06521,4.3508],[-7.79997,4.19302],[-7.5059,4.18395],[-5.76757,4.8703],[-4.01183,5.04836],[-2.37742,4.74873],[-2.20881,4.56681],[-1.95014,4.53917],[-1.58439,4.8081],[-0.67488,5.07694],[0.36257,5.58666],[1.0426,5.57038],[1.2333,5.91918],[1.62417,6.04647],[2.70065,6.17374],[4.40599,6.16564],[4.78737,5.82842],[5.11914,5.2793],[5.26177,4.80037],[5.48715,4.42718],[5.97259,4.07738],[7.19214,4.17167],[8.37623,4.37204],[8.73286,4.18344],[8.57427,3.93582],[8.26447,3.52887],[8.22778,3.32532],[8.32765,3.11141],[8.64946,3.01624],[8.81628,3.06899],[9.11246,3.56149],[9.13053,3.76048],[9.41735,3.67123],[9.46619,3.49682],[9.75659,3.09685],[9.61808,2.45401],[9.59778,2.0058],[9.15259,1.26432],[9.1073,0.91122],[9.13785,0.7583],[9.10584,0.39815],[8.53007,-0.52942],[8.50179,-0.74157],[8.85432,-1.46848],[9.02468,-1.67816],[9.10394,-1.99578],[9.38013,-2.30232],[9.47299,-2.5556],[9.75049,-2.83281],[10.25592,-3.22532],[10.48498,-3.59271],[11.00757,-4.13035],[11.60705,-4.67352],[11.63687,-4.86696],[11.85286,-5.15222],[12.01408,-5.44794],[11.95275,-5.66045],[12.10543,-5.99609],[12.09897,-6.22262],[12.64574,-7.07007],[12.68848,-7.34075],[13.15932,-8.37218],[13.16409,-8.55957],[12.83529,-8.91626],[12.79036,-9.11503],[12.94332,-9.40281],[13.13807,-10.0942],[13.54298,-10.68358],[13.65081,-11.01263],[13.59828,-11.79146],[13.45373,-12.17999],[13.31048,-12.36258],[13.10284,-12.41902],[12.79794,-12.69546],[12.73913,-12.94337],[12.36096,-13.32919],[12.32995,-13.71948],[12.157,-14.00585],[12.1423,-14.40572],[11.86147,-15.14197],[11.80536,-15.52267],[11.6169,-15.67077],[11.52305,-15.83014],[11.59558,-16.15987],[11.46859,-16.5684],[11.555,-16.83166],[11.57455,-17.95048],[11.86229,-18.58021],[12.13035,-18.83251],[12.88536,-20.1898],[12.98982,-20.27615],[13.23209,-20.96832],[13.62813,-21.56933],[13.76405,-21.90733],[14.23116,-22.41959],[14.30203,-22.68463],[14.18364,-23.01449],[14.28969,-23.63947],[14.23015,-24.02402],[14.39829,-24.47478],[14.30494,-24.66193],[14.39429,-24.8091],[14.55461,-24.84881],[14.66825,-25.06754],[14.60447,-25.76619],[14.72403,-26.04704],[14.73945,-26.41521],[14.87316,-26.5708],[14.85062,-26.74842],[15.08165,-27.40196],[15.47328,-28.05303],[16.30864,-28.74341],[16.63688,-29.33105],[16.99608,-30.30893],[18.0209,-31.85329],[18.09661,-32.22944],[17.68368,-32.61005],[17.62293,-32.87669],[18.21457,-34.40741],[18.38359,-34.54088],[18.68783,-34.56965],[19.55555,-34.96864],[20.09927,-35.02028],[20.86839,-34.67904],[21.8713,-34.57414],[22.20372,-34.35898],[22.98975,-34.27447],[24.8464,-34.44588],[26.80997,-33.85033],[28.06156,-33.24831],[28.91872,-32.54718],[30.32527,-31.25348],[31.59202,-29.41675],[32.5494,-28.69562],[32.94356,-27.64695],[33.14237,-26.0812],[33.46511,-25.42114],[35.164,-24.82396],[35.71652,-24.13905],[35.85336,-23.90853],[35.62745,-23.58011],[35.87079,-22.90289],[35.72911,-22.69156],[35.81318,-22.11286],[35.62985,-21.93472],[35.6972,-21.48031],[35.59586,-21.30846],[35.32918,-21.30352],[35.29485,-20.83642],[35.12467,-20.51801],[34.92611,-20.39894],[34.96757,-20.02061],[35.87309,-19.27378],[36.49387,-18.96697],[37.30829,-17.94847],[38.05152,-17.49255],[38.93876,-17.40226],[39.88476,-16.87059],[40.49474,-16.06088],[40.99615,-15.11519],[41.06685,-14.46651],[40.98219,-14.14145],[40.80152,-13.81592],[40.7629,-13.07125],[40.82759,-12.74477],[40.89229,-11.00773],[40.85563,-10.64878],[40.53095,-10.14767],[39.9776,-9.68767],[39.80828,-8.61065],[40.09565,-7.6549],[40.10732,-6.85461],[39.83097,-6.29159],[40.10437,-4.95628],[39.97705,-4.73022],[39.64937,-4.68895],[40.34959,-3.36346],[40.39968,-3.07154],[40.97677,-2.58989],[42.75315,-0.43608],[44.57753,1.28648],[46.13816,2.28313],[48.20906,4.42296],[49.0525,5.82512],[49.39021,6.63223],[49.90709,7.4163],[50.03352,7.8316],[50.31275,8.11037],[50.62038,8.78376],[51.02621,9.34503],[51.12002,10.18895],[51.4628,10.173],[51.61019,10.41302],[51.51991,10.61407],[51.33363,10.74425],[51.32109,11.31058],[51.46403,11.85323],[51.36586,12.02145],[50.88152,12.17002],[50.46916,12.05437],[50.35899,11.8674],[49.45677,11.60977],[48.94407,11.44857],[48.45371,11.49732],[48.03535,11.3108],[47.24664,11.40833],[46.96577,11.17627],[46.45331,10.90703],[46.30087,10.99116],[45.76313,11.02142],[44.87736,10.61549],[44.38647,10.62479],[43.92501,10.95952],[43.77829,11.27978],[43.63157,11.59967],[43.40072,11.76738],[43.61108,12.03207],[43.62376,12.51381],[43.36262,12.58625],[43.17534,12.99554],[42.84405,13.28738],[42.58949,13.7301],[42.49095,13.68282],[42.27367,13.91553],[41.67236,14.31088],[41.31927,14.75091],[40.70216,15.16689],[41.02711,15.42594],[41.00957,15.798],[40.72802,16.00792],[40.40493,16.20826],[40.29785,16.70755],[39.56326,16.66513],[39.30871,16.85254],[39.13816,17.49828],[38.7276,18.14174],[38.86654,18.2514],[39.04402,18.49989],[39.00075,18.76041],[38.88311,18.94729],[38.65027,19.08035],[38.46544,19.05459],[38.43717,19.32273],[37.94087,19.57913],[37.76433,19.50346],[37.57924,19.23877],[37.40616,20.35247],[37.55964,20.74955],[37.54037,21.12669],[37.16471,21.62767],[37.00507,22.37121],[36.82508,22.4985],[36.83711,22.69213],[36.52514,22.96809],[36.57324,23.60634],[35.99731,24.0006],[35.8054,24.41551],[35.39963,24.7237],[35.04187,25.4652],[34.85438,25.64365],[34.49888,26.17766],[34.21539,26.9663],[34.2575,27.3926],[34.53057,27.70609],[34.87112,27.87311],[34.80964,27.98159],[34.63868,27.98651],[34.50972,28.09207],[34.88167,29.36934],[34.91155,29.48279],[34.7245,30.076],[34.27072,31.21475],[34.06366,31.47387],[33.67656,31.3288]]]</textarea>
<textarea id = '4' class='coord' rows='1' cols='40'>[[[-2.19242,35.36613],[-1.92059,35.33201],[-1.58603,35.48541],[-1.23055,35.94386],[-0.74962,35.94386],[0.14952,36.28175],[0.86047,36.66852],[1.3414,36.78585],[2.47056,36.903],[2.9724,37.03667],[3.97609,37.15343],[5.60709,37.01997],[6.06711,37.12009],[6.38077,37.33656],[6.84079,37.20342],[7.23809,37.31993],[8.59725,37.12009],[8.82726,37.28666],[8.7018,37.40304],[8.68089,37.65182],[9.01546,37.78416],[9.24547,37.66837],[9.24547,37.46946],[10.22825,37.56898],[10.45826,37.40304],[11.25285,37.20342],[11.42013,36.91972],[11.27376,36.6014],[10.87647,36.21429],[10.70918,36.16365],[10.77191,36.02847],[11.16921,35.99464],[11.31558,35.36613],[11.92198,34.92152],[11.7547,34.59508],[11.25285,34.45724],[11.23194,34.05971],[11.44104,33.45117],[11.60832,33.32894],[12.42382,32.99632],[13.30205,33.11901],[14.13846,32.96124],[14.91214,32.57438],[15.4558,32.48622],[15.55389,31.90467],[16.04129,31.38594],[16.83588,31.36808],[18.04622,31.02158],[18.99702,30.49506],[19.28428,30.48377],[19.98681,31.11891],[19.74761,31.44044],[19.71604,31.89316],[19.91246,32.24476],[20.49049,32.79154],[21.56167,33.13968],[22.21757,33.13935],[23.23656,32.83432],[23.53842,32.38609],[23.81433,32.37489],[24.25894,32.19373],[25.09288,32.18812],[25.25198,32.07262],[25.38514,31.75853],[25.86219,31.84653],[26.31887,31.8134],[27.42442,31.57041],[27.61707,31.40989],[27.92652,31.44862],[28.10071,31.3101],[28.50849,31.29345],[29.09047,31.07135],[29.63721,31.32093],[30.26182,31.70244],[30.4971,31.65808],[30.99842,31.81792],[31.59383,31.66348],[32.00106,31.73533],[32.23589,31.54476],[32.52263,31.46455],[32.66012,31.29005],[33.16099,31.44803],[33.66958,31.34834],[34.07434,31.49238],[34.26943,31.23332],[34.75002,30.06795],[34.91957,29.47373],[34.51811,28.08884],[34.6467,27.98369],[34.84017,27.97017],[34.83779,27.87432],[34.2525,27.413634842918846],[37.0244,22.37034],[39.1463792187496,18.300404770827193],[38.76732,18.17414],[38.59875,18.03383],[38.45113,17.90626],[38.26035,17.55041],[38.14479,17.56075],[38.11122,17.4813],[38.0615,17.5634],[37.51939,17.32869],[37.41169,17.07054],[37.15071,17.02813],[37.0079,17.08213],[37.03447,16.85067],[36.90257,16.53388],[36.97232,16.28627],[36.7206,15.78621],[36.66331,15.47742],[36.44469,15.17595],[36.57411,14.33154],[36.4291,13.61038],[36.26786,13.39811],[36.17115,13.13853],[36.15574,12.72578],[35.71281,12.67467],[35.41068,12.13698],[35.31901,12.00239],[35.11442,11.85196],[35.09338,11.55715],[34.96748,11.26204],[34.9908,10.87553],[34.78021,10.70262],[34.60732,10.89851],[34.30135,10.58717],[34.37196,10.22903],[34.15721,9.79553],[34.10617,9.51861],[33.87766,9.51208],[33.99337,9.91248],[33.97472,10.14058],[33.53517,10.66197],[33.23684,10.76845],[33.14825,11.46047],[33.30165,12.24541],[32.75275,12.25553],[32.7568,11.96969],[32.08991,11.95618],[32.3973,11.72861],[32.40442,11.16117],[32.48197,11.05592],[31.99617,10.66467],[31.78492,10.29452],[31.30782,9.77426],[30.83312,9.72602],[29.94702,10.30268],[29.55145,10.0925],[29.54433,9.74684],[29.09137,9.76107],[28.99287,9.71292],[28.97864,10.1689],[27.871,10.1597],[27.83463,9.81218],[27.90507,9.6258],[27.15264,9.63907],[26.69851,9.4971],[26.37098,9.60481],[26.21596,9.89817],[25.94856,10.20988],[25.90903,10.40924],[25.71171,10.4507],[25.08305,10.33788],[25.04133,10.01562],[24.74222,9.77612],[24.36229,9.83024],[24.06079,9.67179],[23.71266,9.68342],[23.65869,9.91622],[23.30082,10.48644],[23.02137,10.68496],[22.86937,10.92184],[22.97842,11.28703],[22.93061,11.41162],[22.80559,11.40129],[22.56536,11.6304],[22.65348,12.09762],[22.48605,12.04154],[22.48527,12.17718],[22.39548,12.48653],[22.46945,12.62074],[22.23462,12.75009],[22.14193,12.67383],[21.93874,12.64047],[21.81397,12.82706],[22.0136,13.13467],[22.28543,13.3961],[22.08403,13.79446],[22.23065,13.99722],[22.53689,14.1192],[22.56257,14.23719],[22.451,14.29812],[22.39687,14.56066],[22.70546,14.7281],[22.68073,14.91435],[23.02342,15.21071],[22.93875,15.56674],[23.11876,15.73352],[23.43959,15.70838],[23.6695,15.78073],[23.98717,15.73202],[24.01504,19.45373],[20.12564,21.52677],[15.98679,23.45631],[14.21267,22.61929],[13.53125,23.19548],[11.96876,23.5425],[7.45305,20.85322],[5.79559,19.45328],[4.28364,19.15401],[3.31216,19.01154],[3.11831,19.16422],[3.28992,19.48823],[3.25365,19.84093],[2.75487,19.99272],[2.69257,20.09785],[2.58866,20.04301],[2.47436,20.10533],[2.38127,20.04803],[2.39257,20.14819],[2.21769,20.32888],[2.12258,20.26107],[1.9353,20.22699],[1.67526,20.40739],[1.60211,20.60223],[1.34188,20.76279],[1.17019,20.76527],[1.1544,21.12694],[-8.62189,27.31503],[-8.68235,25.99756],[-11.99473,25.97765],[-12.01338,23.44848],[-12.55356,23.29516],[-13.07931,22.89861],[-13.15811,22.7659],[-13.01194,21.38197],[-13.65735,21.35014],[-14.99816,21.33736],[-16.58556,21.34038],[-16.94815,21.27974],[-17.07575,20.94057],[-17.01973,20.56695],[-17.20253,20.58557],[-27.47104174995194,20.530448138611323],[-22.06037,35.84124],[-6.08172,35.95654],[-5.69319,35.94756],[-5.40883,35.99612],[-5.30473,35.91099],[-5.00407,35.83905],[-4.83446,35.54741],[-4.58294,35.41509],[-4.28122,35.39283],[-3.64501,35.48188],[-3.30365,35.44405],[-3.1084,35.61842],[-2.92068,35.64563],[-2.69767,35.50253],[-2.58931,35.42595],[-2.19242,35.36613]]]</textarea>

</div>

<script>

    // LOAD MAPBOX

	mapboxgl.accessToken = 'pk.eyJ1IjoicGllcnJlc2hpcGZpeCIsImEiOiJjazhvam92OTQwM2IyM2VvZ3RpNDlqa216In0.wsAexPRawHcmfMRydsewlw';
    var map = new mapboxgl.Map({
        container: 'map', // container id
        style: 'mapbox://styles/mapbox/light-v10', //hosted style id
        center: [-45.874, 42.76], // starting position
        zoom: 1 // starting zoom
    });

    var draw = new MapboxDraw({
        displayControlsDefault: false,
        controls: {
            polygon: true,
            trash: true
        }
    });
    map.addControl(draw);



    // DRAW AND UPDATE COORDINATES BOX

    map.on('draw.create', updateArea);
    map.on('draw.delete', updateArea);
    map.on('draw.update', updateArea);
    map.on('draw.selectionchange', highlight);

    function updateArea(e) {
        var data = draw.getAll();
        var answer = document.getElementById('calculated-area');
        var content = '';
        data.features.forEach(function(obj) {
            content += '<p>Polygon ' + obj.id + '</p>' +
                        '<textarea id = "'+ obj.id + '" class="coord" rows="4" cols="40">' +
                        JSON.stringify(obj.geometry.coordinates) +
                        "</textarea><br>"
                        });
        answer.innerHTML = content
    }

    function highlight(e) {
        if (e.features.length > 0) {
            var id = e.features[0].id;
            document.getElementById(id).style.color = 'CornflowerBlue';
        } else {
            var elems = document.querySelectorAll('.coord');
            elems.forEach(function(obj) {
                obj.style.color = 'black';
            })

        }
    }

    // UPLOAD A POLYGON FROM COORDINATES BOX

    var feature = {
        id: "1",
        title: '',
        type: 'Feature',
        properties: {},
        geometry: { type: 'Polygon', coordinates:[]}
    };

    var btn = document.querySelector('input');
    btn.addEventListener('click', updateBtn);

    function updateBtn() {
        document.querySelectorAll('.coord').forEach(function(obj) {
                feature.geometry.coordinates = JSON.parse(obj.value);
                feature.id = obj.id;
                feature.title = 'Polygon';
                var featureIds = draw.add(feature);
                            });
    }


</script>

</body>
</html>