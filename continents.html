<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Show drawn polygon area</title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
<script src="https://api.mapbox.com/mapbox-gl-js/v2.0.0/mapbox-gl.js"></script>
<link href="https://api.mapbox.com/mapbox-gl-js/v2.0.0/mapbox-gl.css" rel="stylesheet" />
<style>
	body { margin: 0; padding: 0; }
	#map { position: absolute; top: 0; bottom: 0; width: 100%; }
</style>
</head>
<body>
<style>
    .calculation-box {
        height: 400px;
        width: 350px;
        position: absolute;
        bottom: 40px;
        left: 10px;
        background-color: rgba(255, 255, 255, 0.9);
        padding: 15px;
        text-align: left;
    }

    p {
        font-family: 'Open Sans';
        margin: 0;
        font-size: 13px;
    }
</style>
<script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.2.0/mapbox-gl-draw.js"></script>
<link
    rel="stylesheet"
    href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.2.0/mapbox-gl-draw.css"
    type="text/css"
/>
<div id="map"></div>
<div class="calculation-box">
<input class='btn' type='button' value = 'Update'>
        <form id='calculated-area'>
            <textarea id = '70' class='coord' rows='1' cols='40'>[[[-188.61328124999997,51.89350585090445],[-167.66,66.35],[-167.51,69],[-167.31468749999607,78.57458771156308],[-167.38304687500002,83.78080269793463],[-123.33181640624792,83.77466157181269],[-79.28058593749792,83.7685144055609],[-35.22935546874629,83.76236119330918],[8.82187500000201,83.75620192918214],[-8.87191406249724,77.5697989989076],[-27.09304687499889,65.10191086653049],[-47.25423339843525,49.31440952593357],[-68.70113422582074,24.402241156928785],[-55.459218955039375,19.520758994743915],[-55.236416425704505,10.978334102702817],[-60.954141445159536,11.744333707297415],[-71.26898601531921,13.14161940788452],[-77.48461265563958,12.976193888335402],[-77.35849288940305,8.639179472181382],[-77.43584320068238,8.531019482756875],[-77.37081726074135,8.292646019097376],[-77.17484741210811,7.946066369678263],[-77.3541967773433,7.840192445022666],[-77.58105957031263,7.497634807248517],[-77.74914062499953,7.498358754967654],[-77.90952148437495,7.216539846437442],[-95.621640625,4.990797172307833],[-117.6821875,17.50628635281009],[-141.5492187500001,53.704565971218905],[-175.95703125,49.56779829076716],[-188.61328124999997,51.89350585090445]]]</textarea>
            <textarea id = '71' class='coord' rows='1' cols='40'>[[[50.010232617186716,45.859244368068005],[49.08334233642219,46.387279218483684],[48.442096586911106,46.62424253301768],[48.92638835851611,46.78093077491076],[48.202184036372756,47.72626604955215],[47.08336523583921,47.87027518525531],[47.17214919494421,48.24307670026104],[46.49189018530285,48.424015337516494],[46.77932138476723,49.00062786332418],[47.006194620126735,49.131770081692395],[46.756816090845206,49.350032473137446],[46.96118403228283,49.86797306526077],[47.633591790155606,50.45605313044729],[48.2533096496538,49.80147734877963],[48.87751099365039,50.000177535844756],[48.64029525939483,50.64598399752896],[49.41382171264297,50.841005521193296],[50.86625876738978,51.737853385820216],[34.555618333357245,51.727571984534165],[33.77790252497914,52.338583624573516],[31.938849308289548,52.03668923763158],[31.44778949682015,53.227342396124556],[32.6486242166018,53.36275653277343],[32.12793037491218,53.83656306609274],[31.365537314473755,54.29224768804826],[30.86681612903473,54.81903244190272],[30.895438693598322,55.56339373514547],[30.262929907517588,55.89298779723754],[29.583738135427126,55.73107693619275],[29.43189011333874,55.95177831144093],[28.15943662249873,56.13448767222715],[28.11745188166472,56.619731446911885],[27.7423447046759,56.89103461201793],[27.850635965189042,57.31495789454715],[27.310716049281837,57.59001283505398],[27.754867419450704,57.81757607574394],[27.52650365141045,58.18072633788617],[27.539839102122613,58.35619399425423],[27.3467834410433,58.778762122405624],[27.733654048002677,58.96548674165166],[27.768962154966744,59.10610288639694],[30.750884053838746,59.14831773183721],[30.694220039080307,60.26340418950659],[28.952020844199296,61.12650220534525],[30.475940778009374,62.0578680030134],[31.51646227432076,62.90151788659796],[30.026082439248768,63.749909116435106],[30.51136127171256,64.26992875381617],[29.634335416678056,64.81776058085615],[30.011631362855525,65.93453849034836],[29.24634918403595,66.88418180296128],[30.02291373264427,67.65745788867792],[29.393080260422778,67.98314564845614],[28.719301475699268,68.17414568549373],[28.47577736979676,68.57002596297534],[28.859386410595704,68.82096327284276],[28.589765149745432,68.92959181812674],[29.242995451393057,69.06909575705555],[29.50484243924069,69.29469899389727],[30.206142552087954,69.53333355985885],[30.8140773784759,69.60759882359227],[30.975259531251595,69.87549617383749],[34.76857781250135,71.29615020806125],[34.79721679687978,74.82086788286611],[34.82585578125304,77.69422045444091],[34.85449476562857,80.07428273812334],[34.883133749999644,83.77237753302433],[74.25240593750516,83.79554118580705],[93.96381203125696,83.7924067641182],[113.675218125004,83.78927076515905],[133.3866242187591,83.78613318814521],[153.09803031250607,83.7829940322921],[172.80943640625628,83.77985329681465],[192.52084250000044,83.77671098092743],[192.47736967492847,80.77798075860761],[192.43389684985635,77.35023668207754],[192.3904240247819,72.67743679502797],[192.3469511997081,66.35184539361175],[184.86262387303663,61.94643378535815],[177.3782965463655,56.79873151308365],[169.8939692196946,50.83257432365659],[162.40964189302366,43.99307591557567],[154.92531456635203,36.264012302660205],[147.44098723968096,27.687643365127656],[139.95665991300802,18.381822143805906],[132.4723325863356,8.546397620397093],[139.37757750000102,0.08523731086098596],[140.89245875000142,-2.173636001951145],[141.07508625000057,-10.07022],[134.4294906249999,-10.356188696564613],[122.80985375,-11.320550304007412],[111.7371718749992,-10.332854313526589],[100.55332187499897,-6.2435753930563855],[93.58625281250114,5.58025351126417],[82.26614218750079,5.480673961429716],[74.47478062500008,5.46912036899697],[70.44001843749867,18.75422550781029],[68.31393703124962,24.03220847799588],[68.75880853515307,23.94223265234821],[68.78349038085776,24.258675723557545],[69.91643677246051,24.2168414042889],[70.96630840576111,24.31592686587385],[70.67825594116141,25.639535807002062],[70.08258628906086,26.004594381868657],[70.10997732421637,26.62566958813356],[69.464493154293,26.739012669308423],[69.93276669433112,27.557855369805637],[70.45632921996528,27.984894941599805],[70.89200112060169,27.751302873310223],[71.85123554687348,27.94440733609808],[72.93873246093574,29.056135353561828],[73.46050826171663,29.960179437771046],[74.00704069335671,30.257475038728174],[74.60989675292683,31.0479610611619],[74.55357312499862,31.831935844176527],[75.20077884719612,32.39581391019834],[73.74860826034242,33.21883275330491],[73.53888038879185,34.44583986292149],[74.08720915786466,35.0279086617646],[72.70194417693722,35.92663687526914],[73.11843700851063,36.753594054925514],[74.54567202758398,37.047210405510356],[75.06511468017135,37.329675918044586],[74.7856406103491,38.37128965737304],[74.05091122070098,38.620637347820306],[73.81192119140673,38.93315847132892],[73.50972238281165,39.4616467469597],[74.70166419921702,40.436934229664416],[75.47341635742055,40.60338069155233],[75.78411877563488,40.35653425741398],[76.37892310974075,40.417192649612815],[76.9297821313462,40.94417114605187],[77.81485884277254,41.08488101536841],[80.15630132812265,42.217040473380706],[79.13343596179669,42.73928294270624],[78.22043387672153,42.90422814896493],[77.33925392532245,42.95978115944075],[76.32396433502049,42.89420605975707],[75.65568984191702,42.79490937280232],[74.20927757446046,43.25557428166073],[73.79558015075546,43.106321765391584],[73.44496341201477,42.77131843455936],[73.48985448577656,42.41827203920988],[71.87581001266378,42.825226413719065],[70.99784952392562,42.54530083476163],[70.95442288993712,42.258004929158886],[69.8230904323189,41.70508414134915],[68.62021717225744,41.11296100223643],[68.52823909161674,40.62313098934234],[68.04075319847692,40.86495842961236],[67.85679703719796,41.14736723235447],[66.69328361296962,41.18948954279861],[66.65141301451217,41.83271211708265],[66.04032806759636,41.966582282195986],[66.01151851130629,42.246913343584595],[66.11454489251923,42.347710082425834],[66.08719729236492,42.92667512499128],[65.81277552955416,42.856501757719144],[65.50563122268497,43.3261867606264],[65.19895979644642,43.478611811923315],[64.98112475646951,43.68696109555901],[64.85307186401309,43.705817376116585],[64.4698167882188,43.54865887794804],[63.84486249366904,43.550572678134785],[63.232160935821014,43.61807856506795],[62.57551406547577,43.47856969553854],[62.02873047637698,43.51427947594061],[61.006146901244364,44.29731672759917],[61.11430006347621,44.40624838985147],[60.067178653562934,45.02314871087586],[58.580604118651195,45.587369692851695],[55.98099020507652,44.97712167663417],[56.011761318737996,41.32945325393493],[55.42729805740359,41.26764374174738],[54.785715284731396,42.04816865361977],[54.161729426883284,42.39119390349856],[53.001648336183166,42.17407021278322],[52.46127131103782,41.75498012979631],[51.204736010743744,40.609315547571725],[48.823501347656475,44.16868520633221],[50.010232617186716,45.859244368068005]]]</textarea>
            <textarea id = '72' class='coord' rows='1' cols='40'>[[[-36.01132812500011,-24.88715375360213],[-29.95039062500014,-9.882364501275864],[-29.894140625000283,4.9758802548738625],[-48.19882812500058,5.163736858458253],[-55.23242187500004,10.974825522438499],[-71.27041015625063,13.138972240710242],[-77.48652343749987,12.939206347005415],[-77.36591796874987,8.637104766750188],[-77.42309570312464,8.478270947059784],[-77.37690429687437,8.23377103410489],[-77.15493164062514,7.989120049614158],[-77.34943847656294,7.848034619434358],[-77.54394531250041,7.510891774247682],[-77.78676757812563,7.4673222221403535],[-77.95380859374995,7.205827327124226],[-95.57812499999972,4.915024379660471],[-89.5316406250001,-28.69963747205993],[-82.52851562499978,-57.07119010791932],[-60.77421875000057,-56.96182596769832],[-36.01132812500011,-24.88715375360213]]]</textarea>
            <textarea id = '73' class='coord' rows='1' cols='40'>[[[141.0335,-9.8349],[141.0192,-6.8978],[140.9296,-6.8638],[140.8464,-6.6176],[141.0158,-6.3168],[141.0202,-2.0611],[136.7432,3.2594],[132.4662,8.5519],[139.9006,18.3086],[144.4968,24.0156],[171.5191,23.7931],[180,23.7231],[207.15820312499932,23.471001158381885],[252.78679062499708,-27.514741057833362],[188.37631562500005,-52.61171695179449],[157.47210312499902,-52.99381987391269],[112.34327539062468,-37.944237092461776],[107.05619218750047,-27.859863923323104],[110.9566874999997,-18.876735467800103],[122.89917499999882,-11.384923981961212],[141.0335,-9.8349]]]</textarea>
            <textarea id = '74' class='coord' rows='1' cols='40'>[[[33.373779296874375,33.47137465024993],[35.154052734373806,35.85770270327353],[29.508209228513067,36.00124266732084],[28.29113769531253,36.57994947025294],[27.99026489258057,36.5247206178192],[27.85377883911184,36.69295771971308],[27.634895324707003,36.611017203113946],[27.32209777832105,36.66528251042932],[27.48171234130899,36.90861823502543],[27.221099853517075,36.95608386998087],[27.140701293947558,37.335347284792405],[26.990264892578267,37.64532573436222],[26.9734115600576,37.683084158235175],[27.15999221801644,37.71718710669977],[26.87837409973153,38.017129509109054],[26.17927551269503,38.23607872057967],[26.33645629882909,38.50253048229172],[26.308647155760497,38.677790817744835],[26.697803497313714,38.860507378829794],[26.723466873169514,39.03171945345923],[26.44151306152304,39.42351296828156],[25.968414306639403,39.41460974627918],[25.53479766845672,40.15813057168154],[26.048236846925363,40.72852055112273],[26.112009048461033,40.735648954237035],[26.356218814853946,40.94876601791697],[26.30445218086774,41.16712847693509],[26.33075392246792,41.25334205569479],[26.404329597956405,41.25305463921876],[26.529008060699198,41.33955622151427],[26.61331994832159,41.33536400803541],[26.63624981791483,41.41158114445898],[26.58728994802385,41.59668568756484],[26.34171015955934,41.720821844728135],[26.339366726114747,41.75694340193175],[26.36723569501393,41.821703284984835],[26.5447933846163,41.82503060881774],[26.57589400676042,41.90237271096771],[26.635389630332924,41.9777714219471],[26.83817211008781,41.9725708845487],[26.953296260121846,42.000592090329405],[27.06175721344559,42.08567855124883],[27.203177151145525,42.06470877329437],[27.227838315607244,42.100236670364296],[27.331507268832212,42.07191965349898],[27.4571488783061,41.970117432622914],[27.571102995691376,41.9215353392664],[27.685758277040662,41.96772197748635],[27.82787937870509,41.944456575648985],[27.8467548709408,41.99817130276611],[27.926055167867418,41.97837805628021],[28.02423095703145,41.979621244000526],[35.07540893554784,42.742159706033846],[41.55529785156298,41.520627819636076],[41.832824707033666,41.43266475076024],[42.04640197754452,41.50226141879003],[42.49618530274,41.4524974482824],[42.772933959966,41.58990206070982],[43.467163085938864,41.12979005774022],[43.46925354003989,41.03056580316823],[43.66360473633193,40.93534199854841],[43.74259948730838,40.6756259614117],[43.546936035160854,40.47342362504736],[43.704925537109915,40.168051715753364],[43.7169570922851,40.07573395902483],[43.88227462768367,40.02742734719669],[44.30001640319432,40.04321964305561],[44.53648376464844,39.90749198584135],[45.45593261718673,38.982924377238646],[45.91333007812162,38.87180456039755],[46.16949462889934,38.84612750723841],[46.52453613280866,38.880335614982044],[47.82934570312236,39.66908278218975],[48.02746582031318,39.68811560692927],[48.36267089843713,39.385012102293615],[48.13201904297006,39.279941590904315],[48.338043212890426,39.03555806428005],[48.23285818100004,38.96516292458472],[48.083727836609455,38.94811928651566],[48.01618003845172,38.907608202249435],[48.04038619995245,38.82437627352809],[48.2431201934813,38.729261694657026],[48.32045459747229,38.60818391888952],[48.44860076904422,38.61255717355081],[48.6085968017579,38.41985091637676],[48.66421890258778,38.39838784099652],[48.79125213623146,38.45009137911728],[48.88052368163986,38.43945765498407],[52.423828124999176,41.733850534316716],[53.00231933593906,42.16714288397486],[54.1594848632848,42.36617500615026],[54.80398559570841,42.04288273268011],[55.43385314941915,41.25601453418068],[55.997802734376506,41.32319695148823],[55.979431152344404,44.9712640916276],[58.574005126955655,45.596075593381784],[60.04707336426037,45.03545293973403],[61.08001327515089,44.409872037847435],[61.03629302978865,44.282980489906066],[62.02551269531418,43.52074511888242],[62.57540035247962,43.50035800607225],[63.17993402481437,43.62540241098128],[63.80897271633759,43.53733593058911],[64.4160387516072,43.560712426872016],[64.79816590250067,43.69480982649722],[64.98922947794813,43.70621127229049],[65.18029305339414,43.478922695266164],[65.50509423017974,43.30115945653236],[65.80313408375076,42.8636296196062],[66.04765129089597,42.903176070425474],[66.13668441772802,42.31184936528052],[65.98516082763891,42.277004562622466],[66.07762145996307,41.96303526889628],[66.61410522461028,41.85568505756146],[66.67633056640582,41.16287249432352],[67.83718872070148,41.16910998447892],[68.01661682128673,40.870427884614884],[68.50183868407782,40.63252434514345],[68.65106582641107,41.11202193550892],[70.9778766632025,42.25931190125044],[71.01304934918033,42.54370711614368],[71.87658295779224,42.830670846857004],[73.4948731995978,42.408576597593964],[73.45807105487893,42.77969519800226],[73.84616412314347,43.1570419591861],[74.20500557915156,43.28118283818981],[75.68081302590645,42.79733571249548],[77.3459852491934,42.955786414094916],[79.10142292333813,42.77791304667019],[80.13295035416121,42.234827023254184],[77.75871606623423,41.09336622738519],[76.89228316906167,40.940408300104934],[76.3679134684688,40.415064814061026],[75.80257250478147,40.381588906200705],[75.46290620240825,40.597841008989576],[74.69568297265911,40.42996512605717],[73.51358693837165,39.454133179541856],[74.07175815104517,38.58641513972839],[74.79259276389172,38.35072261091102],[75.04773855208555,37.32026376168477],[74.50334262847264,37.02731831788162],[73.12890625000006,36.73643485149074],[72.67297363281372,35.92490632568372],[74.0847167968758,35.01504871184167],[73.5381469726536,34.453051321774026],[73.75306701659616,33.216082980317964],[75.20085906981853,32.38748902455325],[74.52949142455455,31.82006416919873],[74.60532820223807,31.01652514982331],[74.0219852924252,30.24411960980376],[73.42658853530179,29.964436618078338],[72.9169473648004,29.01931945552367],[71.8097743987984,27.96029552637293],[70.86984252929321,27.77131710863911],[70.44274902343676,27.95428869577691],[69.92089843750023,27.577901390071474],[69.49291992187602,26.73538624831164],[70.06933593750298,26.60676994535045],[70.07567596436209,26.029085170690763],[70.70823669434193,25.6863827361818],[70.9296569824283,24.339123711155878],[69.77229309083,24.25596027511871],[68.81268310547395,24.292972067774258],[68.72058105469048,23.939180075552372],[68.29467773437466,24.01390085534466],[70.40332031249957,18.708913699522398],[53.9892578124996,14.521823602931164],[45.04541015625034,11.489293997474036],[43.4022827148421,12.578167205384574],[42.616088867186505,13.587704443035861],[34.4425048828156,27.84873386515953],[34.90966796874872,29.479676816470516],[33.373779296874375,33.47137465024993]]]</textarea>
            <textarea id = '75' class='coord' rows='1' cols='40'>[[[33.36665387925967,33.476526273610375],[34.92142858449563,29.522947636814195],[34.441242335213104,27.85260446568529],[42.62327013060744,13.574844339845441],[43.4117309846778,12.567947436910117],[45.04613910437814,11.492501281388755],[53.95714289907619,14.502337272350786],[57.27142864617932,7.245852076962279],[52.7571429246008,0.7035932979273269],[52.80000028077089,-16.7588641307035],[47.9142859257754,-28.924990472999013],[37.0928572434355,-34.005568446896596],[26.271428561096315,-38.79953378801089],[19.028571443157006,-39.2624822648997],[12.757142796977632,-37.25741121716968],[7.499999893647413,-28.679192373178715],[2.907142756562223,-17.089400969909065],[-1.6857143805206931,-4.734036944248402],[-11.385714333724849,-4.392485033847009],[-27.70000020845214,10.007944354964692],[-27.48571444858632,20.426818254739615],[-22.100000072319887,35.8195216451748],[-6,36],[-1.6571428522807992,35.97568699032418],[3.2285714601732707,37.61344140065599],[11.757142882060037,37.594200289928295],[11.69673548864057,34.64491266975645],[28.371428675958583,34.724765813524],[33.36665387925967,33.476526273610375]]]</textarea>
            <textarea id = '76' class='coord' rows='1' cols='40'>[[[34.657654296876615,71.26801911926214],[34.85298046875104,79.17617072435976],[35.04830664062686,83.77060383250051],[8.830398828123835,83.74204845566928],[-1.4539136718756254,80.65892488628893],[-9.980413671875626,77.03002488628893],[-18.506913671875626,72.02472488628894],[-27.033413671875625,65.17612488628893],[-23.064113671875624,59.61362488628893],[-19.094713671875624,52.94822488628893],[-15.125313671875626,45.07032488628893],[-11.156013671875625,35.93532488628893],[-1.6836136718756254,35.99482488628893],[3.2615863281243747,37.63182488628893],[11.733586328124375,37.61722488628893],[11.764386328124374,34.65062488628893],[28.40532734374983,34.718013152927576],[33.39588334960803,33.47312974556385],[35.15645888671554,35.85026776322057],[29.51501230468702,35.99505985609737],[28.306786328124375,36.57168233815687],[28.00249062499929,36.51857441348203],[27.862205566405283,36.68660750952863],[27.646939746092073,36.60050874381679],[27.334457714842785,36.658150763840595],[27.49290429687503,36.900714195154954],[27.234324804687756,36.950455507750355],[27.152513671874175,37.32989831035669],[26.98621923827932,37.67713638266175],[27.175346582030738,37.708891181221404],[26.88897216796764,38.009021407391714],[26.19244101562395,38.232599836428705],[26.349286328124375,38.49472488628893],[26.318457714842783,38.671204715230154],[26.705104296873408,38.85187326497334],[26.739086328124376,39.02262488628893],[26.452486328124376,39.41832488628893],[25.980486328124375,39.40782488628893],[25.547209374999234,40.15081999258425],[26.056097460936364,40.7208643353193],[26.12698696289037,40.72927810859038],[26.368200000000115,40.94460178933545],[26.31329506835698,41.16218558839637],[26.342160888672385,41.250122077509],[26.412549438477413,41.246175172025374],[26.5452473754861,41.33603205164266],[26.625760253906506,41.33199882958225],[26.647175756833093,41.406550279086815],[26.599926708983975,41.58791714753202],[26.354100634765967,41.7164276206148],[26.35187082519704,41.75063121649393],[26.37710683593551,41.81654824867801],[26.558686328124374,41.81632488628893],[26.587260253905583,41.896425065498505],[26.650166455077557,41.97234148283682],[26.85131208496125,41.96537035438686],[26.970060253906478,41.99616860825951],[27.075719873046875,42.0812016109448],[27.210989111326654,42.061062049815234],[27.24188823242213,42.08984927501325],[27.348822729492156,42.06474801549058],[27.470954528808733,41.962916210293145],[27.582099999998466,41.91407777281755],[27.702301269530313,41.96176301724723],[27.836686962888663,41.93973273598389],[27.85789177245556,41.99392896772105],[27.93677480468503,41.97462151686588],[28.025876318359348,41.97478958993626],[35.06531738281321,42.72990349232873],[41.55997998046857,41.525499935902474],[41.840193749997724,41.41961070338418],[42.039017578123406,41.508712597228445],[42.49512441406205,41.4530005610151],[42.780943164060226,41.58158678015376],[43.47887148437378,41.13683863106044],[43.46093359374835,41.027919496658896],[43.66638398437455,40.93697305288129],[43.733970312500425,40.68176274779066],[43.545260791017796,40.47940468701913],[43.71457790527674,40.164244868091515],[43.733318493655645,40.06919857322768],[43.9058676757827,40.02451315648702],[44.308477929686916,40.02862420423361],[44.54240937499855,39.910468131345695],[45.45201386718895,39.0004822709364],[45.917802441406565,38.868976454239515],[46.15618989257706,38.854576285193275],[46.528069165038204,38.885821319776994],[47.82362794189277,39.67106216766052],[48.03501126555915,39.68409663105649],[48.36592265395342,39.389830623560385],[48.1255449798534,39.27313016365045],[48.336824810788954,39.03099195820761],[48.234994290160444,38.96494221536469],[48.08597927837101,38.946895229208536],[48.013868563459596,38.90961194719944],[48.04268180160511,38.82642765400519],[48.24313054351842,38.72864313774818],[48.32272967605533,38.610200435135994],[48.444240057756105,38.60994987543438],[48.59906568317501,38.42608728469392],[48.668671137381494,38.40050020870987],[48.7959548142434,38.45237873373125],[48.88298066406222,38.439947636410075],[51.2236179687483,40.60054101936066],[48.8212609374998,44.181171238156054],[50.02805742187454,45.852065535669624],[49.02906406249792,46.40577398951589],[48.441676757812104,46.6273960915739],[48.93899873046837,46.78425350405851],[48.19889018554713,47.7092524336544],[47.079154937743766,47.87497957925936],[47.16726311797788,48.25017756450353],[46.50830098571612,48.43351355789014],[46.78866990814015,48.967043018649434],[47.0403390839526,49.11803940563942],[46.75705159367024,49.298301959188365],[46.91321722838512,49.875688212455714],[47.684617238101396,50.459897267113604],[48.20950903619314,49.857823814702186],[48.77957212273972,50.00763383362093],[48.60256489678201,50.6884675150381],[49.52051255545936,50.91592957489618],[50.82906412281707,51.72291553083505],[34.49083603668362,51.75429810266277],[33.78741227035644,52.35701394745638],[31.922408379556998,52.01894012022052],[31.46365448875548,53.231316861802725],[32.6774943634058,53.386019747040564],[32.128103265572975,53.81897112785063],[31.347999277115036,54.26035537878687],[30.864451456449075,54.801267590414255],[30.897111674498717,55.58297719068176],[30.259829951666887,55.89613578318796],[29.556667605876868,55.712910740855875],[29.424794322585598,55.94930399682556],[28.161217205044863,56.14736149294376],[28.133714038940866,56.620089347132904],[27.710703060338943,56.871475735670685],[27.8699674723606,57.3115057339933],[27.260188915630692,57.58183348064796],[27.75903220883515,57.820816412981515],[27.530548581998204,58.175046482698576],[27.543764173910375,58.399345090645625],[27.33295466656446,58.77365181296889],[27.74629658937141,58.959563017498766],[27.803937466238807,59.103703372481476],[30.753691876222405,59.14255349270755],[30.71953782654029,60.269081461279086],[28.911689317324033,61.12613314864194],[30.578565843964128,62.09342988596984],[31.54231737060553,62.89095986963005],[29.978750857739385,63.77582312040332],[30.546532001115878,64.24508606178418],[29.638637256622587,64.83473604736807],[30.02011339263899,65.94087640803173],[29.201034414671255,66.91968683009321],[30.02381395873951,67.65484867297232],[29.358543574523424,68.00007735613949],[28.674345882415878,68.2021195309166],[28.46408297386185,68.57758761908573],[28.886295269586782,68.8889605085906],[28.43822172994757,68.91782508200507],[29.18098183512791,69.05837285281535],[29.46447126271883,69.26817361326755],[30.221450351513994,69.55727144315037],[30.7757211459124,69.59323729874984],[30.978429440309185,69.84250814731692],[34.657654296876615,71.26801911926214]]]</textarea>


<script>

    // LOAD MAPBOX

	mapboxgl.accessToken = 'pk.eyJ1IjoicGllcnJlc2hpcGZpeCIsImEiOiJjazhvam92OTQwM2IyM2VvZ3RpNDlqa216In0.wsAexPRawHcmfMRydsewlw';
    var map = new mapboxgl.Map({
        container: 'map', // container id
        style: 'mapbox://styles/mapbox/light-v10', //hosted style id
        center: [-45.874, 42.76], // starting position
        zoom: 1 // starting zoom
    });

    var draw = new MapboxDraw({
        displayControlsDefault: false,
        controls: {
            polygon: true,
            trash: true
        }
    });
    map.addControl(draw);



    // DRAW AND UPDATE COORDINATES BOX

    map.on('draw.create', updateArea);
    map.on('draw.delete', updateArea);
    map.on('draw.update', updateArea);
    map.on('draw.selectionchange', highlight);

    function updateArea(e) {
        var data = draw.getAll();
        var answer = document.getElementById('calculated-area');
        var content = '';
        data.features.forEach(function(obj) {
            content += '<p>Polygon ' + obj.id + '</p>' +
                        '<textarea id = "'+ obj.id + '" class="coord" rows="4" cols="40">' +
                        JSON.stringify(obj.geometry.coordinates) +
                        "</textarea><br>"
                        });
        answer.innerHTML = content
    }

    function highlight(e) {
        if (e.features.length > 0) {
            var id = e.features[0].id;
            document.getElementById(id).style.color = 'CornflowerBlue';
        } else {
            var elems = document.querySelectorAll('.coord');
            elems.forEach(function(obj) {
                obj.style.color = 'black';
            })

        }
    }

    // UPLOAD A POLYGON FROM COORDINATES BOX

    var feature = {
        id: "1",
        title: '',
        type: 'Feature',
        properties: {},
        geometry: { type: 'Polygon', coordinates:[]}
    };

    var btn = document.querySelector('input');
    btn.addEventListener('click', updateBtn);

    function updateBtn() {
        document.querySelectorAll('.coord').forEach(function(obj) {
                feature.geometry.coordinates = JSON.parse(obj.value);
                feature.id = obj.id;
                feature.title = 'Polygon';
                var featureIds = draw.add(feature);
                            });
    }


</script>

</body>
</html>